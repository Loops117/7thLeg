<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Signup Test - 7th Leg</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="d-flex flex-column align-items-center justify-content-center vh-100">
  <div class="text-center">
    <h1>Signup Test</h1>
    <p>Click the button below to create a test user in Supabase.</p>
    <button onclick="testSignup()" class="btn btn-warning">Run Signup Test</button>
  </div>

  <!-- ✅ Load Supabase client library first -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- ✅ Then load your config -->
  <script src="assets/js/config.js"></script>

  <script>
    async function testSignup() {
      const email = "RyanHubb8989" + Date.now() + "@gmail.com";
      const password = "TestPass123!";

      const { data, error } = await window.supabase.auth.signUp({
        email,
        password,
        options: {
          data: { full_name: "Test User" }
        }
      });

      if (error) {
        console.error("Signup failed:", error.message);
        alert("Signup failed: " + error.message);
      } else {
        console.log("Signup successful!", data);
        alert("Signup successful! Check your Supabase dashboard.");
      }
    }
  </script>
</body>
</html>
